# 軌跡追蹤系統 (Trajectory Tracking System)

本專案包含兩個主要圖形化介面程式 (GUI)，分別用於**歷史軌跡回放**與**即時位置監控**，並附帶測試用的模擬工具。

## 📂 目錄
- [一、歷史軌跡追蹤程式 (GUI)](#一歷史軌跡追蹤程式-gui)
- [二、實時軌跡追蹤程式 (GUI2)](#二實時軌跡追蹤程式-gui2)
- [三、測試與模擬工具](#三測試與模擬工具)

---

## 一、歷史軌跡追蹤程式 (GUI)

用於查詢與回放過去的移動路徑數據。

### 使用步驟
1. **選擇資料庫 (Database)**
   - 程式預設會讀取或自動建立 `history_records.db`。
   - 若僅需查詢本系統產生的資料，直接選擇此資料庫即可。
2. **設定資料表與場次**
   - 資料表請選擇 `POINTS`。
   - 選擇欲查詢的特定 Session (場次)。
3. **載入地圖**
   - 選擇對應的底圖文件。
4. **檢視與操作**
   - 點擊「顯示資料」以繪製軌跡。
   - **互動功能**：支援滑鼠拖曳與縮放，可針對特定軌跡範圍進行細部觀察。

---

## 二、實時軌跡追蹤程式 (GUI2)

用於即時監控設備位置與移動路徑。

### 1. 操作說明
1. **初始化**：選擇底圖檔案，並載入傳訊設備的初始點位設定檔（預設為 `init_point.csv`）。
2. **開始監控**：完成載入後即可啟動實時監控功能。

### 2. 系統設置與參數要求

#### 📍 傳訊設備點位設置 (Anchor Points)
- **數量限制**：初始設置最多支援 **8 個** 基站/傳感器點位。
- **座標格式**：請將點位的絕對二維座標寫入 `init_point.csv` 中。
- **座標範圍**：為了計算正確，請務必將座標轉換縮放至 **(0, 0)** 到 **(100, 100)** 的範圍內。

#### 📡 數據傳入格式 (Raw Data)
數據需寫入 `raw_data` 資料表中，該表包含以下 11 個欄位：

| 欄位名稱 | 說明 |
| :--- | :--- |
| `time_val` | 時間標記 |
| `dist_a` ~ `dist_h` | 對應 8 個基站的距離數據 (共8個欄位) |
| `player` | 設備/玩家編號 |
| `created_at` | 數據建立時間 |

> **⚠️ 計算限制**：
> 每次傳入的數據中，必須包含**正好三個**非零的點位距離數據，系統方能進行三角定位計算。

---

## 三、測試與模擬工具

本專案提供腳本以模擬真實設備移動，用於測試 GUI 功能。

### 測試腳本說明
- **`create_fake_message`**：
  - 功能：自動向 `raw_data` 寫入數據，模擬 **Player 1** 沿著圓形軌跡移動。
- **`create_fake_message` (Player 2)**：
  - 功能：模擬 **Player 2** (第二個設備) 的移動數據。
  - *註：請確認腳本內的 Player ID 設定。*

### 💡 注意事項
1. **路徑要求**：執行時，請確保 `create_fake_message`、`sensor_data.csv` 與主程式位於**同一檔案路徑**下。
2. **範例資料**：專案中附有一組預先建立好的 `history_records.db`，可供測試回放功能使用。
